import{H as Qe,T as et}from"./components.1da40097.js";import{_ as ke}from"./IconCustom.vue.ecb74b05.js";import{_ as je}from"./nuxt-link.127be1bd.js";import{f as be,g as Le,r as p,h as e,o as g,c as k,b as C,a as t,t as Z,i as Y,j as ye,k as ie,l as he,n as c,m as pe,q as N,v as D,s as oe,F as fe,x as we,y as tt,p as Ae,e as Te,w as se,T as He,z as Xe,A as Ue,B as $e,d as ze,C as Ne,D as ot,E as Se,G as nt,H as De,I as We,_ as lt}from"./entry.1a9e1a05.js";import{_ as rt}from"./client-only.a9a9136c.js";import{_ as at}from"./ContentRendererMarkdown.vue.e84079ca.js";import{_ as Pe}from"./_plugin-vue_export-helper.c27b6911.js";import{u as Oe,a as qe,b as Ze,c as Ee,d as Ke,e as Me,f as st,g as it,h as ct}from"./states.f122d053.js";import{u as _e}from"./state.15aeb9aa.js";import{u as dt}from"./index.8d0ad3c6.js";import{u as Be,q as Fe}from"./query.040c963c.js";import{p as ut}from"./package.9e798f71.js";import"./iconify.0d4b5a2c.js";import"./index.a6ef77ff.js";import"./preview.0419d23a.js";const gt={key:0,class:"w-fit mx-auto mb-2 px-2 py-1 flex items-center gap-1 text-xs text-red-300 hover:text-red-500 bg-red-50 hover:bg-red-100 rounded transition-colors duration-30"},pt={class:"text-center"},ht=be({__name:"OutdatedWarning",props:{date:{},type:{}},setup(B){const o=B,z=Le().articlePage.outdated.threshold||30,i=new Date,_=new Date(o.date),r=Math.floor((i.getTime()-_.getTime())/(1e3*60*60*24)),h=p(!1);return r>z&&(h.value=!0),(u,A)=>{const d=ke;return e(h)?(g(),k("div",gt,[C(d,{name:"bi:exclamation-triangle-fill",class:"shrink-0 w-4 h-4"}),t("p",pt,Z(e(r))+" day(s) have passed since this article "+Z(o.type)+" and it may be outdated ",1)])):Y("",!0)}}}),vt=B=>(Ae("data-v-bd1af1d9"),B=B(),Te(),B),mt=["title"],ft={class:"shrink-0 flex gap-0.5"},bt=["title"],xt=vt(()=>t("div",null,null,-1)),yt={class:"shrink-0 flex justify-start items-center gap-2 opacity-30 hover:opacity-100 transition-opacity duration-300"},_t={key:3,class:"hidden sm:block relative"},wt={class:"w-4 h-4 text-xs"},kt=be({__name:"ElementCard",props:{elem:{type:Object,default:()=>({})},order:{type:Number,default:1},count:{type:Number,default:1}},emits:["spanAll"],setup(B,{emit:o}){const l=B,z=Le(),i=p(null),_=["h1","h2","h3","h4","h5","h6"],r={h1:"text-gray-800",h2:"text-purple-500",h3:"text-red-500",h4:"text-green-500",h5:"text-blue-500",h6:"text-gray-500"},h={h1:{expand:"text-white bg-gray-500 hover:bg-gray-400 active:bg-gray-500 border-gray-500",collapse:"text-gray-400 hover:text-gray-500 active:text-white active:bg-gray-500 border-gray-500"},h2:{expand:"text-white bg-purple-500 hover:bg-purple-400 active:bg-purple-500 border-purple-500",collapse:"text-purple-400 hover:text-purple-500 active:text-white active:bg-purple-500 border-purple-500"},h3:{expand:"text-white bg-red-500 hover:bg-red-400 active:bg-red-500 border-red-500",collapse:"text-red-400 hover:text-red-500 active:text-white active:bg-red-500 border-red-500"},h4:{expand:"text-white bg-green-500 hover:bg-green-400 active:bg-green-500 border-green-500",collapse:"text-green-400 hover:text-green-500 active:text-white active:bg-green-500 border-green-500"},h5:{expand:"text-white bg-blue-500 hover:bg-blue-400 active:bg-blue-500 border-blue-500",collapse:"text-blue-400 hover:text-blue-500 active:text-white active:bg-blue-500 border-blue-500"},h6:{expand:"text-white bg-gray-500 hover:bg-gray-400 active:bg-gray-500 border-gray-500",collapse:"text-gray-400 hover:text-gray-500 active:text-white active:bg-gray-500 border-gray-500"}},u={h1:"border-gray-100",h2:"border-purple-100",h3:"border-red-100",h4:"border-green-100",h5:"border-blue-100",h6:"border-gray-100"},A=p(new Set),d=ye("collapseHeadings",A),T=()=>{const v=l.elem.node.props.id;d.value.has(v)?d.value.delete(v):d.value.add(v)},W=p(!1),y=ye("activeHeadingId"),M=ye("setActiveHeadingId"),O={h1:"bg-gray-100",h2:"bg-purple-100",h3:"bg-red-100",h4:"bg-green-100",h5:"bg-blue-100",h6:"bg-gray-100"};ie(y,()=>{if(y.value===l.elem.node.props.id&&i.value){i.value.scrollIntoView(!0),W.value=!0;const v=setTimeout(()=>{W.value=!1,clearTimeout(v),M("")},2e3)}});const L=p("waterfall"),w=v=>{L.value=v,L.value==="compact"?o("spanAll",!0):$.value===0&&o("spanAll",!1),i.value&&tt(()=>{var q;(q=i.value)==null||q.scrollIntoView(!0),W.value=!0;const E=setTimeout(()=>{W.value=!1,clearTimeout(E)},2e3)})},n=()=>{L.value==="waterfall"?w("compact"):w("waterfall")},$=p(0),X=v=>{v?$.value+=1:$.value-=1};ie($,(v,E)=>{E>0&&v===0?o("spanAll",!1):E===0&&v>0&&o("spanAll",!0)});const a=p(1),H=ye("divideColumns");ie(H,()=>{P.value&&(a.value=Math.min(H.value,l.elem.children.length))});const P=p(!0),te=()=>{P.value=!P.value,P.value&&(a.value=H.value)};he(()=>{if(l.elem.children&&l.elem.children.length>1&&document.documentElement.clientWidth&&document.documentElement.clientWidth>=1e3){const v=Math.floor(document.documentElement.clientWidth/500);a.value=Math.min(v,l.elem.children.length),L.value="compact",o("spanAll",!0)}});const S=v=>{if(v.shiftKey)a.value+=1;else if(v.ctrlKey||v.metaKey)a.value=Math.max(a.value-1,1);else{let E=a.value+1;E>H.value&&(E=1),a.value=E}};return(v,E)=>{const q=at,F=ke,U=Ve;return g(),k("div",{name:"parent-to-tabindex-0-who-is-parent-to-divname-in-nodemodus",class:c(["elem-card",e($)>0||e(L)==="compact"?"my-2":""]),style:pe(e($)>0||e(L)==="compact"?"column-span: all":"")},[_.includes(l.elem.type)?(g(),k("div",{key:0,ref_key:"headingElem",ref:i,tabindex:"0",class:c(["container mx-auto lg:max-w-4xl p-2 my-2 flex flex-wrap items-center gap-2 rounded-md",e(W)?`title-highlight-pulse ${O[l.elem.type]}`:""]),style:pe(l.elem.type==="h1"?"justify-content: center":"justify-content: flex-start"),title:e(z).menu.toggle,onClick:T},[t("div",ft,[l.count>1?(g(),k("sup",{key:0,class:c(["text-xs opacity-30",`${r[l.elem.type]}`])},Z(`${l.order}/${l.count}`),3)):Y("",!0),t("button",{name:"toggleContent",title:e(z).menu.toggle,class:c(["p-1 flex justify-center items-center text-xs border rounded-md transition-colors duration-300",e(d).has(l.elem.node.props.id)?`${h[l.elem.type].collapse}`:`${h[l.elem.type].expand}`]),onClick:T},[t("span",null,Z(l.elem.type.toUpperCase()),1)],10,bt)]),C(q,{name:"toggle-this-content-in-notemode",class:c(["shrink-0 font-bold",r[l.elem.type]]),value:{body:{type:"root",children:[l.elem.node]}},excerpt:!1},null,8,["class","value"]),xt,t("div",yt,[l.elem.children&&l.elem.children.length>0?N((g(),k("button",{key:0,class:c(["p-1 flex justify-center items-center border rounded-md transition-colors duration-300",e(L)==="waterfall"?`${h[l.elem.type].expand}`:`${h[l.elem.type].collapse}`]),onClick:E[0]||(E[0]=V=>w("waterfall"))},[C(F,{name:"tabler:layout-list",class:"w-4 h-4"})],2)),[[D,e(L)!=="waterfall"]]):Y("",!0),l.elem.children&&l.elem.children.length>0?N((g(),k("button",{key:1,class:c(["p-1 flex md:hidden justify-center items-center border rounded-md transition-colors duration-300",e(L)==="card"?`${h[l.elem.type].expand}`:`${h[l.elem.type].collapse}`]),onClick:E[1]||(E[1]=V=>w("card"))},[C(F,{name:"tabler:versions",class:"w-4 h-4"})],2)),[[D,e(L)!=="card"]]):Y("",!0),l.elem.children&&l.elem.children.length>0?N((g(),k("button",{key:2,class:c(["p-1 hidden md:flex justify-center items-center border rounded-md transition-colors duration-300",e(L)==="compact"?`${h[l.elem.type].expand}`:`${h[l.elem.type].collapse}`]),onClick:E[2]||(E[2]=V=>w("compact"))},[C(F,{name:"tabler:layout-board",class:"w-4 h-4"})],2)),[[D,e(L)!=="compact"]]):Y("",!0),l.elem.children&&l.elem.children.length>0?N((g(),k("div",_t,[t("button",{class:c(["flex justify-center items-center absolute -top-3 -right-2 bg-white rounded-full",e(P)?"text-yellow-500 hover:text-yellow-400 ":"text-gray-500 hover:text-gray-400"]),onClick:te},[N(C(F,{name:"fluent:arrow-sync-circle-20-regular",class:"w-5 h-5"},null,512),[[D,!e(P)]]),N(C(F,{name:"fluent:arrow-sync-circle-20-filled",class:"w-5 h-5"},null,512),[[D,e(P)]])],2),t("button",{class:c(["p-1 flex justify-center items-center border transition-colors duration-300 rounded-md",`${h[l.elem.type].expand}`]),onClick:S},[t("span",wt,Z(e(a)),1)],2)],512)),[[D,e(L)==="compact"]]):Y("",!0),!l.elem.children||l.elem.children.length===0?(g(),k("button",{key:4,class:c(["p-1 hidden md:flex justify-center items-center border rounded-md transition-colors duration-300",e(L)==="compact"?`${h[l.elem.type].expand}`:`${h[l.elem.type].collapse}`]),onClick:n},[C(F,{name:"tabler:arrow-autofit-width",class:"w-4 h-4"})],2)):Y("",!0)])],14,mt)):(g(),oe(q,{key:1,class:"article-container",value:{body:{type:"root",children:[l.elem.node]}}},null,8,["value"])),l.elem.content.length>0?N((g(),k("div",{key:2,class:c(["container mx-auto lg:max-w-4xl",e(L)===""])},[(g(!0),k(fe,null,we(l.elem.content,(V,Q)=>(g(),oe(q,{key:Q,class:"article-container",value:{body:{type:"root",children:[V.node]}}},null,8,["value"]))),128))],2)),[[D,!e(d).has(l.elem.node.props.id)]]):Y("",!0),l.elem.children&&l.elem.children.length>0?N((g(),k("div",{key:3,class:c(["card-container",e(L)==="compact"?"gap-x-2":e(L)==="card"?"flex gap-2 overflow-x-auto":""]),style:pe(e(L)==="compact"?`columns: ${e(a)}`:"")},[(g(!0),k(fe,null,we(l.elem.children,(V,Q)=>(g(),oe(U,{key:Q,elem:V,order:Q+1,count:l.elem.children.length,class:c(e(L)==="compact"?`p-2 mb-2 h-fit border rounded break-inside-avoid ${u[V.type]}`:e(L)==="card"?"p-2 border rounded":""),style:pe(e(L)==="card"?"width: fit-content; max-width: 90%; height: fit-content; max-height: 60vh; flex-shrink: 0; overflow-y: auto":""),onSpanAll:X},null,8,["elem","order","count","class","style"]))),128))],6)),[[D,!e(d).has(l.elem.node.props.id)]]):Y("",!0)],6)}}});const Ve=Pe(kt,[["__scopeId","data-v-bd1af1d9"]]),Ct={key:1,class:"w-3.5 h-3.5"},Ge=be({__name:"CatalogItemForNote",props:{item:{},depth:{}},setup(B){const o=B,l=p(new Set),z=ye("collapseHeadings",l),i=ye("toggleCollapseHeadings"),_={2:{expand:"bg-purple-500",collapse:"bg-purple-200"},3:{expand:"bg-red-500",collapse:"bg-red-200"},4:{expand:"bg-green-500",collapse:"bg-green-200"},5:{expand:"bg-blue-500",collapse:"bg-blue-200"},6:{expand:"bg-gray-500",collapse:"bg-gray-200"}},r={2:"text-purple-400",3:"text-red-400",4:"text-green-400",5:"text-blue-400",6:"text-gray-400"},h={2:{expand:"border-purple-200",collapse:"border-purple-50"},3:{expand:"border-red-200",collapse:"border-red-50"},4:{expand:"border-green-200",collapse:"border-green-50"},5:{expand:"border-blue-200",collapse:"border-blue-50"},6:{expand:"border-gray-200",collapse:"border-gray-50"}},u={2:"text-purple-400 hover:text-purple-500",3:"text-red-400 hover:text-red-500",4:"text-green-400 hover:text-green-500",5:"text-blue-400 hover:text-blue-500",6:"text-gray-400 hover:text-gray-500"},A={2:"bg-purple-500 hover:bg-purple-400",3:"bg-red-500 hover:bg-red-400",4:"bg-green-500 hover:bg-green-400",5:"bg-blue-500 hover:bg-blue-400",6:"bg-gray-500 hover:bg-gray-400"},d={2:"border-purple-500",3:"border-red-500",4:"border-green-500",5:"border-blue-500",6:"border-gray-500"},T=Oe(),W=qe(),y=Ze(),M=p(""),O=p("");ie([T,W,y],()=>{const w=[],n=[];(T.value||W.value)&&y.value==="tree"?(w.push("order: 3"),w.push("transform: translateX(10px)"),n.push("flex-grow: 1"),n.push("order: 2"),o.item.children||w.push("display: none")):(w.push("order: 2"),w.push("transform: translateX(-10px)"),n.push("order: 3")),M.value=w.join(";"),O.value=n.join(";")},{immediate:!0});const L=ye("setActiveHeadingId");return(w,n)=>{const $=ke,X=Ge;return g(),k("li",{draggable:"false",class:c(["flex",(e(T)||e(W))&&e(y)==="tree"?"flex-row justify-start items-center":"flex-col"])},[t("div",{class:c(["shrink-0 flex items-center",(e(T)||e(W))&&e(y)==="tree"?"pl-4 w-40 justify-between":"px-2"])},[N(t("button",{class:c(["shrink-0 order-1 p-1 mr-1 flex justify-center items-center text-xs font-thin border rounded transition-colors duration-300",e(z).has(o.item.id)?`${u[o.depth]} ${d[o.depth]}`:`text-white ${A[o.depth]} ${d[o.depth]}`]),onClick:n[0]||(n[0]=a=>e(i)(o.item.id))}," H"+Z(o.depth),3),[[D,(e(T)||e(W))&&e(y)==="tree"]]),N(t("span",{class:c(["shrink-0 self-stretch order-1 pr-4 py-2 flex justify-center items-center text-xs font-thin border-r border-dashed",`${r[o.depth]}  ${h[o.depth].expand}`])}," H"+Z(o.depth),3),[[D,!((e(T)||e(W))&&e(y)==="tree")]]),t("button",{class:c(["shrink-0 flex justify-center items-center opacity-80 rounded-full border-[3px]",e(z).has(o.item.id)?`${_[o.depth].collapse} ${h[o.depth].collapse}`:`${_[o.depth].expand} ${h[o.depth].expand}`]),style:pe(e(M)),onClick:n[1]||(n[1]=a=>e(i)(o.item.id))},[o.item.children?(g(),oe($,{key:0,name:"ion:add",class:c(["w-3.5 h-3.5 text-white transition-transform duration-500 delay-300",e(z).has(o.item.id)?"rotate-0":"rotate-45"])},null,8,["class"])):(g(),k("div",Ct))],6),t("button",{class:"p-2 text-sm text-left text-gray-800 hover:text-blue-500 hover:bg-blue-100 transition-colors duration-300 rounded",style:pe(e(O)),onClick:n[2]||(n[2]=a=>e(L)(o.item.id))},Z(o.item.text),5)],2),C(He,{"enter-from-class":"translate-x-10 opacity-0","enter-active-class":"transition-all duration-300 ease-in-out","enter-to-class":"translate-x-0 opacity-100","leave-from-class":"translate-x-0 opacity-100","leave-active-class":"transition-all duration-100 ease-out","leave-to-class":"translate-x-10 opacity-0"},{default:se(()=>[o.item.children?N((g(),k("ul",{key:0,class:c(e(T)||e(W)?e(y)==="tree"?`border-l ${h[o.depth].expand} space-y-2 rounded-md`:"ml-6":"")},[(g(!0),k(fe,null,we(o.item.children,a=>(g(),oe(X,{key:a.id,item:a,depth:a.depth||o.depth+1},null,8,["item","depth"]))),128))],2)),[[D,!e(z).has(o.item.id)]]):Y("",!0)]),_:1})],2)}}}),$t=B=>(Ae("data-v-2362a1bd"),B=B(),Te(),B),St={class:"flex"},It={class:"flex items-stretch"},Ht={class:"flex items-center gap-2"},Pt={class:"order-4 w-full my-2 flex sm:hidden items-center gap-1"},Lt=$t(()=>t("label",{for:"zoom-catalog",class:"shrink-0 text-gray-400 text-xs"},"zoom",-1)),At=["min","max"],Tt={class:"shrink-0 w-6 overflow-hidden text-gray-400 text-xs text-center"},Mt={class:"flex"},jt=be({__name:"CatalogSidebarForNote",props:{catalogs:{}},setup(B){const o=B,l=_e("showNoteCatalog"),z=p(null),i=p(300),_=p(300),r=p(16),h=p(80),u=Oe(),A=()=>{i.value=300,_.value=300,r.value=16,h.value=80},d=Ee();he(()=>{A(),ie(()=>d.value.width,()=>{document.documentElement.clientWidth<1280&&!u.value?(T.value||(A(),Q()),u.value=!0):document.documentElement.clientWidth>=1280&&!T.value&&u.value&&(u.value=!1),!u.value&&!T.value&&(i.value=(document.documentElement.clientWidth-896)/2-16)})});const T=qe();he(()=>{ie(T,()=>{T.value?(A(),Q(),u.value=!0):(i.value=(document.documentElement.clientWidth-896)/2-16,u.value=!1)})});let W=null,y=null,M=0,O=0,L=0,w=0;const n=p(""),$=(I,m)=>{m&&(m.currentTarget.setPointerCapture(m.pointerId),W=m,y=m,n.value=I,M=i.value,O=_.value,L=r.value,w=h.value)},X=I=>{if(I&&y){if(W=I,n.value!=="left"&&n.value!=="right"){const m=W.y-y.y;n.value==="up"||n.value==="up-left"||n.value==="up-right"?_.value=O-m:(_.value=O+m,h.value=w-m)}if(n.value!=="up"&&n.value!=="bottom"){const m=W.x-y.x;n.value==="left"||n.value==="up-left"||n.value==="bottom-left"?(i.value=M-m,r.value=L+m):i.value=M+m}}},a=()=>{W=null,y=null,n.value="",M=0,O=0};let H=null,P=null;const te=p(!1),S=I=>{I&&(te.value=!0,I.currentTarget.setPointerCapture(I.pointerId),H=I,P=I,L=r.value,w=h.value)},v=I=>{if(I&&P){H=I;const m=H.x-P.x,s=H.y-P.y;r.value=L+m,h.value=w-s}},E=()=>{te.value=!1,H=null,P=null},q=p(null),F=p(1),U=p(0),V=p(0),Q=()=>{F.value=1,U.value=0,V.value=0},ue=p(.5),ve=p(1.5),xe=I=>{if(u.value&&K.value==="tree"&&q.value){I.stopPropagation(),I.preventDefault();const m=I.wheelDelta?I.wheelDelta:-I.deltaY,s=I.ctrlKey?.04:.1,b=m>0?F.value+s:F.value-s;if(b<ue.value||b>ve.value)return;F.value=b;let x=I.offsetX,R=I.offsetY;if(I.target!==I.currentTarget){const Ie=I.target.getBoundingClientRect(),Ce=q.value.getBoundingClientRect();x+=Ie.x-Ce.x,R+=Ie.y-Ce.y}const ne=m>0?s:-s;U.value+=-x*ne+q.value.clientWidth*ne/2,V.value+=-R*ne+q.value.clientHeight*ne/2}};let f=null,j=null,ee=0,ge=0;const le=["A","BUTTON","svg","path"],re=I=>{u.value&&K.value==="tree"&&!le.includes(I.target.tagName)&&!f&&(I.currentTarget.setPointerCapture(I.pointerId),f=I,j=I,ee=U.value,ge=V.value)},J=I=>{if(!(!f||I.pointerId!==f.pointerId)&&u.value&&K.value==="tree"&&j){f=I;const m=f.x-j.x,s=f.y-j.y;U.value=ee+m,V.value=ge+s}},G=I=>{f&&I.pointerId===f.pointerId&&(f=null,j=null,ee=0,ge=0)},K=Ze(),ce=p(null),me=()=>{K.value==="tree"?K.value="list":K.value==="list"&&(K.value="tree")},de=p("");he(()=>{ie(de,()=>{de.value==="top"?ce.value.scrollTop=0:de.value==="bottom"&&(ce.value.scrollTop=ce.value.scrollHeight-ce.value.clientHeight),de.value=""})});const ae=ye("toggleAllHeadings");return(I,m)=>{const s=ke,b=Ge;return g(),k(fe,null,[N(t("aside",{id:"sidebar",ref_key:"sidebar",ref:z,tabindex:"0",class:c(["flex flex-col justify-center fixed z-30 bg-gray-50/90 backdrop-blur-sm select-none will-change-transform",e(u)?"shadow-md shadow-gray-500 rounded-lg touch-none":"top-1/2 right-0 -translate-y-1/2"]),style:pe(e(u)?`left: ${e(r)}px; bottom: ${e(h)}px`:"")},[N(t("div",St,[t("button",{draggable:"false",class:c(["shrink-0 group pt-1 pl-1 flex justify-start items-start cursor-nwse-resize touch-none rounded-tl-lg",e(n)==="up"||e(n)==="up-left"||e(n)==="up-right"||e(n)==="bottom-left"||e(n)==="left"?"bg-green-200":""]),onPointerdown:m[0]||(m[0]=x=>$("up-left",x)),onPointermove:X,onPointercancel:a,onPointerup:a},[t("div",{class:c(["resize-btn-indicator w-1 h-2 rounded-b",e(n)==="up-left"?"bg-green-400":"bg-gray-400"])},null,2),t("div",{class:c(["resize-btn-indicator w-1 h-1 rounded-r",e(n)==="up-left"?"bg-green-400":"bg-gray-400"])},null,2)],34),t("button",{draggable:"false",class:c(["grow group py-1 flex justify-center items-start cursor-ns-resize touch-none",e(n)==="up"||e(n)==="up-left"||e(n)==="up-right"?"bg-green-200":""]),onPointerdown:m[1]||(m[1]=x=>$("up",x)),onPointermove:X,onPointercancel:a,onPointerup:a},[t("div",{class:c(["resize-btn-indicator w-10 h-1 rounded",e(n)==="up"?"bg-green-400":"bg-gray-400"])},null,2)],34),t("button",{draggable:"false",class:c(["shrink-0 group pt-1 pr-1 flex justify-end items-start cursor-nesw-resize touch-none rounded-tr-lg",e(n)==="up"||e(n)==="up-left"||e(n)==="up-right"||e(n)==="bottom-right"||e(n)==="right"?"bg-green-200":""]),onPointerdown:m[2]||(m[2]=x=>$("up-right",x)),onPointermove:X,onPointercancel:a,onPointerup:a},[t("div",{class:c(["resize-btn-indicator w-1 h-1 rounded-l",e(n)==="up-right"?"bg-green-400":"bg-gray-400"])},null,2),t("div",{class:c(["resize-btn-indicator w-1 h-2 rounded-b",e(n)==="up-right"?"bg-green-400":"bg-gray-400"])},null,2)],34)],512),[[D,e(u)]]),t("div",It,[N(t("button",{draggable:"false",class:c(["shrink-0 group cursor-ew-resize px-1 flex justify-start items-center touch-none",e(n)==="up-left"||e(n)==="left"||e(n)==="bottom-left"?"bg-green-200":""]),onPointerdown:m[3]||(m[3]=x=>$("left",x)),onPointermove:X,onPointercancel:a,onPointerup:a},[t("div",{class:c(["resize-btn-indicator w-1 h-10 rounded",e(n)==="left"?"bg-green-400":"bg-gray-400"])},null,2)],34),[[D,e(u)]]),t("div",{class:c(["grow flex flex-col justify-start",e(u)?"":"max-h-[55vh] pr-2 py-2 "]),style:pe(e(u)?`width: ${e(i)}px; height: ${e(_)}px;`:`width: ${e(i)}px`)},[N(t("button",{draggable:"false",class:c(["shrink-0 order-1 group p-1 w-full flex justify-center items-center rounded transition-colors duration-300 cursor-move touch-none",e(te)?"bg-green-200 text-green-500":"text-gray-600 hover:text-gray-800 hover:bg-gray-200"]),onPointerdown:S,onPointermove:v,onPointercancel:E,onPointerup:E},[C(s,{name:"akar-icons:drag-horizontal",class:"w-4 h-4"})],34),[[D,e(u)]]),t("div",{class:c(["sidebar-btn-container shrink-0 py-2 flex items-center gap-2 overflow-x-auto",e(u)?"justify-between order-3":"justify-start order-2"])},[t("div",Ht,[t("button",{class:"sidebar-btn flex bg-green-100 text-green-400 hover:text-green-500 active:text-white active:bg-green-500 border border-green-400",onClick:m[4]||(m[4]=x=>e(ae)("expand"))},[C(s,{name:"ic:round-unfold-more",class:c(["w-4 h-4",e(u)&&e(K)==="tree"?"rotate-90":""])},null,8,["class"])]),t("button",{id:"collapseAll",class:"sidebar-btn flex bg-red-100 text-red-400 hover:text-red-500 active:text-white active:bg-red-500 border border-red-400",onClick:m[5]||(m[5]=x=>e(ae)("collapse"))},[C(s,{name:"ic:round-unfold-less",class:c(["w-4 h-4",e(u)&&e(K)==="tree"?"rotate-90":""])},null,8,["class"])]),N(t("button",{class:"sidebar-btn flex active:text-white border bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 border-green-400",onClick:m[6]||(m[6]=x=>de.value="top")},[C(s,{name:"material-symbols:vertical-align-top-rounded",class:"w-4 h-4"})],512),[[D,!e(u)||e(K)==="list"]]),N(t("button",{class:"sidebar-btn flex active:text-white border bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 border-green-400",onClick:m[7]||(m[7]=x=>de.value="bottom")},[C(s,{name:"material-symbols:vertical-align-bottom-rounded",class:"w-4 h-4"})],512),[[D,!e(u)||e(K)==="list"]]),N(t("button",{class:c(["sidebar-btn flex border",e(K)==="tree"?"bg-green-500 hover:bg-green-400 text-white border-green-400":"bg-green-100 text-green-400 hover:text-green-500 border-green-400"]),onClick:me},[C(s,{name:"icon-park-outline:tree-diagram",class:"w-4 h-4"})],2),[[D,e(u)]]),N(t("button",{class:"sidebar-btn flex border active:text-white bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 border-green-400",onClick:Q},[C(s,{name:"uil:focus-target",class:"w-4 h-4"})],512),[[D,e(K)==="tree"&&e(u)]])]),t("button",{class:c(["shrink-0 hidden xl:flex p-1 justify-center items-center rounded border transition-colors duration-300",e(u)?"border-green-400 bg-green-500 hover:bg-green-400 text-white":"border-green-400 bg-green-100 text-green-400 hover:text-green-500"]),onClick:m[8]||(m[8]=x=>T.value=!e(T))},[C(s,{name:"clarity:window-restore-line",class:"w-4 h-4"})],2)],2),N(t("div",Pt,[Lt,N(t("input",{id:"zoom-catalog","onUpdate:modelValue":m[9]||(m[9]=x=>Xe(F)?F.value=x:null),type:"range",name:"zoom",min:e(ue),max:e(ve),step:"0.01",class:"grow h-1.5 focus:outline-0 accent-green-400"},null,8,At),[[Ue,e(F)]]),t("span",Tt,Z(e(F)),1)],512),[[D,e(u)&&e(K)==="tree"]]),t("div",{id:"catalog-container",ref_key:"catalogContainer",ref:ce,class:c(["grow w-full flex flex-col scroll-smooth overscroll-none",e(u)?e(K)==="tree"?"order-2 gap-2 overflow-hidden cursor-move":" order-2 overflow-y-auto":"order-3 overflow-y-auto"]),onPointerdown:re,onPointermove:J,onPointercancel:G,onPointerup:G},[t("ul",{ref_key:"catalogList",ref:q,class:c(["shrink-0 overscroll-none",e(u)&&e(K)==="tree"?"space-y-2 m-4 border-l border-purple-300 rounded-md touch-none":""]),style:pe(e(u)&&e(K)==="tree"?`transform: translate(${e(U)}px, ${e(V)}px) scale(${e(F)})`:""),onWheel:xe},[(g(!0),k(fe,null,we(o.catalogs,x=>(g(),oe(b,{key:x.id,item:x,depth:x.depth||2},null,8,["item","depth"]))),128))],38)],34)],6),N(t("button",{draggable:"false",class:c(["shrink-0 group px-1 flex justify-end items-center cursor-ew-resize touch-none",e(n)==="up-right"||e(n)==="right"||e(n)==="bottom-right"?"bg-green-200":""]),onPointerdown:m[10]||(m[10]=x=>$("right",x)),onPointermove:X,onPointercancel:a,onPointerup:a},[t("div",{class:c(["resize-btn-indicator w-1 h-10 rounded",e(n)==="right"?"bg-green-400":"bg-gray-400"])},null,2)],34),[[D,e(u)]])]),N(t("div",Mt,[t("button",{draggable:"false",class:c(["shrink-0 group pl-1 pb-1 flex justify-start items-end cursor-nesw-resize touch-none rounded-bl-lg",e(n)==="bottom"||e(n)==="bottom-left"||e(n)==="bottom-right"||e(n)==="up-left"||e(n)==="left"?"bg-green-200":""]),onPointerdown:m[11]||(m[11]=x=>$("bottom-left",x)),onPointermove:X,onPointercancel:a,onPointerup:a},[t("div",{class:c(["resize-btn-indicator w-1 h-2 rounded-t",e(n)==="bottom-left"?"bg-green-400":"bg-gray-400"])},null,2),t("div",{class:c(["resize-btn-indicator w-1 h-1 rounded-r",e(n)==="bottom-left"?"bg-green-400":"bg-gray-400"])},null,2)],34),t("button",{draggable:"false",class:c(["grow group py-1 flex justify-center items-end cursor-ns-resize touch-none",e(n)==="bottom"||e(n)==="bottom-left"||e(n)==="bottom-right"?"bg-green-200":""]),onPointerdown:m[12]||(m[12]=x=>$("bottom",x)),onPointermove:X,onPointercancel:a,onPointerup:a},[t("div",{class:c(["resize-btn-indicator w-10 h-1 rounded",e(n)==="bottom"?"bg-green-400":"bg-gray-400"])},null,2)],34),t("button",{draggable:"false",class:c(["shrink-0 group pr-1 pb-1 flex justify-end items-end cursor-nwse-resize touch-none rounded-br-lg",e(n)==="bottom"||e(n)==="bottom-left"||e(n)==="bottom-right"||e(n)==="up-right"||e(n)==="right"?"bg-green-200":""]),onPointerdown:m[13]||(m[13]=x=>$("bottom-right",x)),onPointermove:X,onPointercancel:a,onPointerup:a},[t("div",{class:c(["resize-btn-indicator w-1 h-1 rounded-l",e(n)==="bottom-right"?"bg-green-400":"bg-gray-400"])},null,2),t("div",{class:c(["resize-btn-indicator w-1 h-2 rounded-t",e(n)==="bottom-right"?"bg-green-400":"bg-gray-400"])},null,2)],34)],512),[[D,e(u)]])],6),[[D,e(l)]]),N(t("button",{class:"p-3 sm:p-2 flex justify-center items-center fixed bottom-[8.5rem] sm:bottom-28 right-2 sm:right-4 z-40 active:text-white rounded-lg text-green-400 hover:text-green-500 bg-green-100 active:bg-green-500 border border-green-200",onClick:A},[C(s,{name:"bi:layout-sidebar-inset",class:"w-5 h-5"})],512),[[D,e(l)&&e(u)]])],64)}}});const zt=Pe(jt,[["__scopeId","data-v-2362a1bd"]]),Nt={class:"p-4 selection:text-white selection:bg-purple-400"},Et={key:0,class:"py-4 text-3xl md:text-5xl font-bold text-center"},Dt={class:"flex flex-wrap justify-center items-center gap-2 sm:gap-4"},Wt={class:"text-xs"},Bt={key:1,class:"flex flex-wrap justify-center items-center gap-2 sm:gap-4"},Ft={key:0,class:"flex items-center gap-1 text-xs text-gray-400 hover:text-gray-500 transition-colors duration-300"},Rt={key:1,class:"flex items-center gap-1 text-xs text-gray-400 hover:text-gray-500 transition-colors duration-300"},Yt={class:"flex flex-wrap justify-center items-center gap-2 sm:gap-4"},Xt={class:"text-xs"},Ut=t("span",{class:"text-xs"},"Tags",-1),Ot=t("hr",{class:"w-1/3 mx-auto my-2 sm:my-4"},null,-1),qt={key:1,class:"py-2 tags-container flex sm:flex-wrap justify-start sm:justify-center items-center overflow-x-auto gap-2"},Zt={class:"hidden md:block fixed top-20 right-4 z-20"},Kt={class:"w-5 h-5"},Vt=be({__name:"MarkdownNote",props:{data:{}},setup(B){var ve,xe;const o=B,l=Le(),z=_e("showSeriesModal"),i=p(!0);o.data.body.children.length>0&&o.data.body.children[0].tag==="h1"&&((xe=(ve=o.data.body.children[0])==null?void 0:ve.children[0])==null?void 0:xe.type)==="text"&&o.data.body.children[0].children[0].value===o.data.title&&(i.value=!1);let _=!0;_=l.articlePage.showTime,"showTime"in o.data&&(_=o.data.showTime);let r=!1;r=l.articlePage.outdated.show,"showOutdatedWarning"in o.data&&(r=o.data.showOutdatedWarning);const h=p("");if(o.data._path){const f=o.data._path.split("/");f.length>3&&f[1]==="article"&&(h.value=f[2])}const u=p(!0),A=[],d=["h1","h2","h3","h4","h5","h6"],T=[],W={node:{type:"element",tag:"h1",props:{id:"_default_heading_1"},children:[{type:"text",value:"Article"}]},type:"h1",children:[],content:[]};let y=null,M=null,O=null,L=null,w=null,n=null,$=null;o.data.body.children.forEach(f=>{if(A.length===0&&f.tag!=="h1"&&(y=W,$=y,A.push(y)),d.includes(f.tag))switch(f.tag!=="h1"&&T.push(f.props.id),f.tag){case"h1":y={node:f,type:"h1",children:[],content:[]},A.push(y),$=y;break;case"h2":M={node:f,type:"h2",children:[],content:[]},y.children.push(M),$=M;break;case"h3":O={node:f,type:"h3",children:[],content:[]},M?M.children.push(O):$.children.push(O),$=O;break;case"h4":L={node:f,type:"h4",children:[],content:[]},O?O.children.push(L):$.children.push(O),$=L;break;case"h5":w={node:f,type:"h5",children:[],content:[]},L?L.children.push(w):$.children.push(w),$=w;break;case"h6":n={node:f,type:"h6",children:[],content:[]},w?w.children.push(n):$.children.push(n),$=n}else $.content.push({node:f,type:f.tag})});const X=p("waterfall"),a=p(1);$e("divideColumns",a);const H=p(1);$e("recommendColumns",H);const P=p(!0),te=Ee(),S=_e("oneColHeaderOnBigScreen");he(()=>{document.documentElement.clientWidth&&window&&(document.documentElement.clientWidth>=1e3&&(H.value=Math.max(Math.floor(document.documentElement.clientWidth/500),1),a.value=H.value,A.length>1&&(X.value="compact")),a.value===1?S.value=!0:S.value=!1,ie(()=>te.value.width,()=>{H.value=Math.max(Math.floor(document.documentElement.clientWidth/500),1),P.value&&(a.value=H.value),a.value===1?S.value=!0:S.value=!1})),E()});const v=f=>{if(f.shiftKey)a.value+=1;else if(f.ctrlKey||f.metaKey)a.value=Math.max(a.value-1,1);else{let j=a.value+1;j>H.value&&(j=1),a.value=j}a.value===1?(S.value=!0,console.log(`'Problem with heading-width? ' + ${S.value}`)):S.value=!1},E=()=>{console.log("Kyrie is toogle all content from the MarkdownNote."),document.getElementById("collapseAll").dispatchEvent(new Event("click"))};ie(S,()=>{const f=document.querySelectorAll("h2,h3,h4,h5[name='h2to5']");S.value?f.forEach(j=>{j.classList.toggle("notewidth"),j.classList.add("fullwidth")}):f.forEach(j=>{j.classList.toggle("notewidth"),j.classList.remove("fullwidth")})});const q=_e("showNoteCatalog"),F=p(new Set);$e("collapseHeadings",F),$e("toggleCollapseHeadings",f=>{F.value.has(f)?F.value.delete(f):F.value.add(f)}),$e("toggleAllHeadings",f=>{f==="expand"?F.value.clear():F.value=new Set(T)});const Q=p("");return $e("activeHeadingId",Q),$e("setActiveHeadingId",f=>{Q.value=f}),(f,j)=>{var K,ce,me,de;const ee=ke,ge=je,le=ht,re=rt,J=Ve,G=zt;return g(),k("div",null,[t("div",Nt,[e(i)?(g(),k("h1",Et,Z(o.data.title||"Article"),1)):Y("",!0),t("div",Dt,[e(h)?(g(),oe(ge,{key:0,to:{path:"/list",query:{category:e(h)}},"aria-label":"category-path-list",class:"p-2 flex items-center gap-1 text-gray-400 hover:text-white hover:bg-purple-500 focus:outline-purple-500 focus:outline-none rounded transition-colors duration-300"},{default:se(()=>[C(ee,{name:"material-symbols:category-rounded",class:"shrink-0 w-4 h-4"}),t("span",Wt,Z(e(h)),1)]),_:1},8,["to"])):Y("",!0),e(_)?(g(),k("div",Bt,[o.data.created?(g(),k("div",Ft,[C(ee,{name:"mdi:pencil-circle",class:"w-4 h-4"}),t("span",null,"Created Time: "+Z(new Date(o.data.created).toLocaleDateString()),1)])):Y("",!0),o.data.updated?(g(),k("div",Rt,[C(ee,{name:"mdi:clock",class:"w-4 h-4"}),t("span",null,"Updated Time: "+Z(new Date(o.data.updated).toLocaleDateString()),1)])):Y("",!0)])):Y("",!0),t("div",Yt,[o.data.series?(g(),k("button",{key:0,class:"p-2 flex items-center gap-1 text-gray-400 hover:text-white hover:bg-green-500 focus:outline-none rounded transition-colors duration-300",onClick:j[0]||(j[0]=ae=>z.value=!0)},[C(ee,{name:"bi:collection",class:"shrink-0 w-4 h-4"}),t("span",Xt,Z(o.data.series),1)])):Y("",!0),o.data.tags?(g(),k("button",{key:1,class:c(["p-2 hidden sm:flex items-center gap-1 focus:outline-blue-500 rounded transition-colors duration-300",e(u)?"bg-blue-500 hover:bg-blue-400 text-white":"text-gray-400 hover:text-white hover:bg-blue-500 "]),onClick:j[1]||(j[1]=ae=>u.value=!e(u))},[C(ee,{name:"bi:collection",class:"shrink-0 w-4 h-4"}),Ut],2)):Y("",!0)])]),C(re,null,{default:se(()=>[e(_)&&e(r)&&(o.data.updated||o.data.created)?(g(),oe(le,{key:0,date:o.data.updated||o.data.created,type:o.data.updated?"last updated":"created"},null,8,["date","type"])):Y("",!0)]),_:1}),Ot,o.data.tags&&o.data.tags.length>0?N((g(),k("div",qt,[(g(!0),k(fe,null,we(o.data.tags,ae=>(g(),oe(ge,{key:ae,to:{path:"/list",query:{tags:[ae]}},"aria-label":"tag in props.data.tags path-list",class:"px-2 py-1 text-xs text-gray-400 hover:text-white hover:bg-blue-500 rounded focus:outline-blue-500 transition-colors duration-300"},{default:se(()=>[ze(" #"+Z(ae),1)]),_:2},1032,["to"]))),128))],512)),[[D,e(u)]]):Y("",!0)]),t("div",{name:"colvalue",class:c(["markdown-note-container selection:text-white selection:bg-green-400",e(X)==="compact"?"gap-x-2":""]),style:pe(e(X)==="compact"?`columns: ${e(a)}`:"")},[(g(),k(fe,null,we(A,(ae,I)=>C(J,{key:I,elem:ae,order:I+1,count:A.length,class:c(e(X)==="compact"?"p-2 mb-2 border rounded break-inside-avoid":"")},null,8,["elem","order","count","class"])),64))],6),(ce=(K=o.data)==null?void 0:K.body)!=null&&ce.toc&&o.data.body.toc.links.length>0?(g(),oe(G,{key:0,catalogs:o.data.body.toc.links},null,8,["catalogs"])):Y("",!0),t("div",Zt,[t("button",{class:c(["p-1 flex justify-center items-center absolute -top-4 -left-4 rounded-full",e(P)?"text-yellow-500 bg-yellow-100 hover:bg-yellow-50 border border-yellow-200":"text-gray-500 bg-gray-100 hover:bg-gray-50 border border-gray-200"]),onClick:j[2]||(j[2]=ae=>P.value=!e(P))},[C(ee,{name:"fluent:desktop-sync-24-regular",class:"w-4 h-4"})],2),t("button",{id:"toggle_column",class:"p-2 flex justify-center items-center text-green-500 bg-green-100 hover:bg-green-50 border border-green-200 transition-colors duration-300 rounded-lg",onClick:v},[t("span",Kt,Z(e(a)),1)])]),(de=(me=o.data)==null?void 0:me.body)!=null&&de.toc&&o.data.body.toc.links.length>0?(g(),k("button",{key:1,id:"mdThemeBtn",class:c(["p-2 hidden sm:flex justify-center items-center fixed bottom-16 right-4 z-40 border transition-colors duration-300 rounded-lg hover:bg-green-400",e(q)?"text-green-500 bg-green-300 hover:bg-green-400 border-green-200":"text-gray-500 bg-white hover:bg-gray-100 border-gray-200"]),onClick:j[3]||(j[3]=ae=>q.value=!e(q))},[C(ee,{name:"entypo:list",class:"w-5 h-5"})],2)):Y("",!0)])}}});const Gt=""+globalThis.__publicAssetsURL("img/svg/arrow-down.svg"),Jt={id:"findNext",class:"text-purple-600"},Qt="Click to find next search-string!",eo=be({__name:"FindNext",setup(B){const o=_e("searchString"),l=()=>{const _=document.querySelector("#findNext"),r=o.value;window.find?window.find(r)||_.classList.add("hidden"):console.log("Your browser does not support this example!")};he(()=>{document&&window.find&&l()}),Ne(()=>{});const z=p(""),i=_=>{_.target};return he(()=>{_(document.getElementById("findNext"));function _(r){let h=0,u=0,A=0,d=0;document.getElementById(r.id+"Header")?document.getElementById(r.id+"Header").onmousedown=T:r.onmousedown=T;function T(M){M=M||window.event,M.preventDefault(),A=M.clientX,d=M.clientY,document.onmouseup=y,document.onmousemove=W}function W(M){M=M||window.event,M.preventDefault(),h=A-M.clientX,u=d-M.clientY,A=M.clientX,d=M.clientY,r.style.top=r.offsetTop-u+"px",r.style.left=r.offsetLeft-h+"px"}function y(){document.onmouseup=null,document.onmousemove=null}}}),(_,r)=>(g(),k("div",Jt,[t("img",{id:"findNextHeader",src:Gt,alt:"find next",width:"50",height:"50",title:Qt,onClick:r[0]||(r[0]=h=>l())}),N(t("input",{id:"findIndput",ref:"searchInput","onUpdate:modelValue":r[1]||(r[1]=h=>Xe(z)?z.value=h:null),type:"text",size:"12",onInput:i},null,544),[[Ue,e(z)]])]))}});const to=Pe(eo,[["__scopeId","data-v-b6180cae"]]),Je=B=>(Ae("data-v-a354c38e"),B=B(),Te(),B),oo={class:"expand-window p-4 fixed inset-0 z-[80] flex justify-center items-center"},no={class:"modal-container flex flex-col lg:max-w-4xl"},lo={class:"px-4 py-4 sm:py-6 text-lg sm:text-xl font-bold text-center bg-white border-b rounded-t-lg"},ro={key:0,class:"modal-content-container pl-8 md:pl-12 pr-4 py-4 list-decimal space-y-2 overflow-y-auto bg-white"},ao={class:"font-bold"},so={key:1,class:"p-4 flex flex-col justify-center items-center space-y-2 bg-white rounded-t-lg"},io=Je(()=>t("p",null,"Oops! There is no series.",-1)),co={class:"p-2 grid grid-cols-2 gap-2 justify-items-stretch sticky bottom-0 inset-x-0 text-xs bg-white border-t rounded-b-lg"},uo=Je(()=>t("span",null,"Esc",-1)),go=[uo],po=["title"],ho={class:"hidden sm:inline"},vo=be({__name:"SeriesModal",props:{currentPath:{},seriesName:{},seriesList:{}},setup(B){const o=B,l=_e("showSeriesModal"),z=p(!1),i=ot(),_=p([]),r=p(0);let h=-1;const u=function(A){if(A.key==="Escape")l.value=!1;else if(A.key==="ArrowDown"){h=h+1,h>r.value-1&&(h=0);const d=_.value[h];d&&d.focus()}else if(A.key==="ArrowUp"){h=h-1,h<0&&(h=r.value-1);const d=_.value[h];d&&d.focus()}else if(A.key==="Enter"){const d=o.seriesList[h]._path;i.push({path:d}),l.value=!1}};return he(()=>{document&&(r.value=_.value.length,document.addEventListener("keyup",u))}),Ne(()=>{document.removeEventListener("keyup",u)}),(A,d)=>{const T=je,W=ke;return g(),k("div",oo,[t("div",{class:"expand-window absolute inset-0 -z-10 flex justify-center items-center bg-black/10 backdrop-blur",onClick:d[0]||(d[0]=y=>l.value=!1)}),t("div",no,[t("h2",lo,Z(o.seriesName),1),A.seriesList&&A.seriesList.length>0?(g(),k("ol",ro,[(g(!0),k(fe,null,we(A.seriesList,y=>(g(),k("li",{ref_for:!0,ref_key:"itemRefs",ref:_,key:y._path,tabindex:"0",class:c(["py-2 hover:text-blue-500 hover:bg-blue-100 focus:outline-blue-500 transition-colors duration-300 rounded-md",o.currentPath===y._path?"text-blue-500":"text-gray-600"])},[C(T,{to:y._path,class:"block px-4 space-y-2","aria-label":"article._path",onClick:d[1]||(d[1]=M=>l.value=!1)},{default:se(()=>[t("h3",ao,Z(y.title),1),N(t("p",{class:"text-sm opacity-60"},Z(y.description),513),[[D,e(z)&&y.description]])]),_:2},1032,["to"])],2))),128))])):(g(),k("div",so,[C(W,{name:"fluent:mail-inbox-dismiss-28-filled",class:"w-10 h-10"}),io])),t("div",co,[t("button",{class:"px-4 py-2.5 flex justify-center items-center space-x-1 text-red-400 bg-red-50 hover:text-red-500 hover:bg-red-100 focus:outline-red-500 rounded transition-colors duration-300",title:"close window",onClick:d[2]||(d[2]=y=>l.value=!1)},go),t("button",{class:c(["px-4 py-2.5 flex justify-center items-center space-x-1 focus:outline-green-500 rounded transition-colors duration-300",e(z)?"text-white bg-green-500 hover:bg-green-400":"text-green-400 bg-green-50 hover:text-green-500 hover:bg-green-100 "]),title:e(z)?"Less Details":"More Details",onClick:d[3]||(d[3]=y=>z.value=!e(z))},[t("p",null,[t("span",ho,Z(e(z)?"Less":"More"),1),ze(" Detail")])],10,po)])])])}}});const mo=Pe(vo,[["__scopeId","data-v-a354c38e"]]),fo=B=>(Ae("data-v-439b6d47"),B=B(),Te(),B),bo=["src","alt"],xo=fo(()=>t("span",null,"Esc",-1)),yo=["disabled"],_o=["onClick"],wo=["src","alt"],ko=["disabled"],Re=.2,Ye=10,Co=be({__name:"ImageLightbox",setup(B){const o=Ke(),l=Me(),z=st(),i=it(),_=ct(),r=p(!1),h=Me(),u=s=>{if(_.value.length===0)return;const b=_.value.findIndex(x=>{var R;return x.src===((R=i.value)==null?void 0:R.src)});b!==-1&&(s==="prev"?b===0?i.value=_.value[_.value.length-1]:i.value=_.value[b-1]:s==="next"&&(b===_.value.length-1?i.value=_.value[0]:i.value=_.value[b+1]))},A=function(s){s.key==="Escape"?h.value="hiding":s.key==="ArrowLeft"?(u("prev"),U()):s.key==="ArrowRight"&&(u("next"),U())};he(()=>{ie(l,()=>{document&&(l.value!=="hidden"?document.addEventListener("keyup",A):document.removeEventListener("keyup",A))})});const d=p(null),T=p(!1),W=Ee();he(()=>{d.value&&(d.value.scrollWidth>d.value.offsetWidth&&(T.value=!0),ie(()=>W.value.width,()=>{d.value&&d.value.scrollWidth>d.value.offsetWidth?T.value=!0:T.value=!1}))});const y=p("start"),M=()=>{d.value&&(d.value.scrollLeft===0?y.value="start":d.value.scrollLeft+d.value.offsetWidth>=d.value.scrollWidth?y.value="end":y.value="middle")},O=s=>{d.value&&(s==="left"?d.value.scrollLeft-=d.value.offsetWidth:s==="right"&&(d.value.scrollLeft+=d.value.offsetWidth))},L=s=>{i.value=s,U()},w=p(null),n=p(0),$=p(0),X=p(1),a=p(1);let H=0,P=0,te=0,S=0;const v=p("translate(0px, 0px) scale(1)"),E=(s="screen")=>{s==="origin"&&(n.value=0,$.value=0),X.value=1,a.value=1,H=0,P=0,te=0,S=0,v.value=`translate(${H}px, ${P}px) scale(${a.value})`},q=(s="add")=>{w.value&&(s==="add"?(w.value.classList.add("transition-all"),w.value.classList.add("duration-100"),w.value.classList.add("ease-in-out")):(w.value.classList.remove("transition-all"),w.value.classList.remove("duration-100"),w.value.classList.remove("ease-in-out")))},F=()=>{if(!i.value||!(document!=null&&document.documentElement)||!window)return;n.value=i.value.width,$.value=i.value.height,H=-(document.documentElement.clientWidth/2-(i.value.x+i.value.width/2)),P=-(window.innerHeight/2-(i.value.y+i.value.height/2)),a.value=1,v.value=`translate(${H}px, ${P}px) scale(${a.value})`},U=()=>{if(i.value&&document.documentElement&&window){const s=document.documentElement.clientWidth,b=window.innerHeight,R=s/i.value.width*i.value.height<=b,ne=i.value.width/i.value.height;R?(n.value=s,$.value=n.value/ne):($.value=b,n.value=$.value*ne)}H=0,P=0,a.value=1,v.value=`translate(${H}px, ${P}px) scale(${a.value})`},V=()=>{q("add"),F()},Q=()=>{U(),j.value=!0},ue=()=>{l.value==="show"&&(r.value=!0,q("remove"))},ve=()=>{i.value&&z.value&&i.value.src===z.value.src?(q("add"),i.value=z.value):(l.value="hidden",E("origin"),j.value=!1,z.value=null,i.value=null,_.value=[],J=null,G=null,le=null,re=null),r.value=!1},xe=()=>{F()},f=()=>{q("remove"),l.value="hidden",E("origin"),j.value=!1,z.value=null,i.value=null,_.value=[],J=null,G=null,le=null,re=null},j=p(!1),ee=s=>{s&&z.value?j.value=!j.value:l.value="hiding"},ge=s=>{if(w.value&&l.value==="show"&&z.value){s.stopPropagation(),s.preventDefault();const b=-s.deltaY,x=s.ctrlKey?.05:.2,R=b>0?a.value+x:a.value-x;if(R<Re||R>Ye)return;a.value=R;const ne=s.offsetX,Ie=s.offsetY,Ce=b>0?x:-x;H+=-ne*Ce+w.value.clientWidth*Ce/2,P+=-Ie*Ce+w.value.clientHeight*Ce/2,v.value=`translate(${H}px, ${P}px) scale(${a.value})`}};let le=null,re=null,J=null,G=null,K=0,ce=0,me=0;const de=(s,b)=>Math.sqrt((b.clientX-s.clientX)**2+(b.clientY-s.clientY)**2),ae=s=>{l.value&&(J?G||(re=s,G=re):(le=s,J=le),le&&re&&J&&G&&(me=de(J,G),K=(le.offsetX+re.offsetX)/2,ce=(le.offsetY+re.offsetY)/2),te=H,S=P)},I=s=>{if(!(!w.value||!l.value)){if(J&&G){s.preventDefault(),s.pointerId===J.pointerId?J=s:s.pointerId===G.pointerId&&(G=s);const b=de(J,G),x=100,R=(b-me)/x,ne=a.value+R;if(ne<Re||ne>Ye)return;a.value=ne,H+=-K*R+w.value.clientWidth*R/2,P+=-ce*R+w.value.clientHeight*R/2,me=b,v.value=`translate(${H}px, ${P}px) scale(${a.value})`}else if(le&&J||re&&G){let b;if(J&&s.pointerId===J.pointerId?(b=le,J=s):G&&s.pointerId===G.pointerId&&(b=re,G=s),b&&(H=te+(s.clientX-b.clientX),P=S+(s.clientY-b.clientY),v.value=`translate(${H}px, ${P}px) scale(${a.value})`),a.value===1&&te===0&&S===0){const x=w.value.getBoundingClientRect();Math.abs(P)>Math.abs(H)?X.value=1-Math.abs(P)/x.height<.2?.2:1-Math.abs(P)/x.height:X.value=1-Math.abs(H)/x.width<.2?.2:1-Math.abs(H)/x.width}}}},m=s=>{if(w.value&&a.value===1&&te===0&&S===0){const b=w.value.getBoundingClientRect();Math.abs(P)-b.height/4>0?ee(!1):X.value=1,_.value.length>1&&(Math.abs(H)-b.width/4>0?(H>0?u("prev"):u("next"),U()):X.value=1)}J&&s.pointerId===J.pointerId?(J=null,le=null):G&&s.pointerId===G.pointerId&&(G=null,re=null),te=H,S=P,(!J||!G)&&(me=0,K=0,ce=0)};return(s,b)=>{const x=ke;return N((g(),k("div",{class:c(["w-screen h-screen fixed inset-0 z-[999] flex justify-center items-center cursor-zoom-out",e(l)!=="hidden"&&e(r)?"touch-none bg-white/30 backdrop-blur-sm":""]),onClick:b[7]||(b[7]=R=>ee(!1))},[C(He,{onBeforeEnter:V,onAfterEnter:Q,onBeforeLeave:ve,onLeave:xe,onAfterLeave:f},{default:se(()=>[N(t("img",{ref_key:"image",ref:w,class:"mx-auto will-change-transform cursor-move touch-none",src:e(i)?e(i).src:"",alt:e(i)?e(i).alt:"",style:pe(`width: ${e(n)}px; height: ${e($)}px; opacity: ${e(X)};transform: ${e(v)}`),draggable:"false",onTransitionend:ue,onDblclick:b[0]||(b[0]=R=>E("screen")),onClick:b[1]||(b[1]=Se(R=>ee(!0),["stop","prevent"])),onWheel:ge,onPointerdown:ae,onPointermove:I,onPointercancel:m,onPointerup:m},null,44,bo),[[D,e(l)==="show"&&e(i)]])]),_:1}),C(He,{"enter-from-class":"-translate-x-20 opacity-0","enter-active-class":"transition-all duration-200 ease","enter-to-class":"translate-x-0 opacity-100","leave-from-class":"translate-x-0 opacity-100","leave-active-class":"transition-all duration-75 ease","leave-to-class":"-translate-x-20 opacity-0"},{default:se(()=>[N(t("button",{class:c(["h-fit px-4 sm:px-2 py-2 flex justify-center items-center text-xs active:text-white border fixed top-4 left-4 z-[1000] rounded",e(o)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 border-purple-500":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 border-green-500"]),onClick:b[2]||(b[2]=Se(R=>E("screen"),["stop","prevent"]))},Z(Math.round(e(a)*100))+"% ",3),[[D,e(j)]])]),_:1}),C(He,{"enter-from-class":"translate-x-20 opacity-0","enter-active-class":"transition-all duration-200 ease","enter-to-class":"translate-x-0 opacity-100","leave-from-class":"translate-x-0 opacity-100","leave-active-class":"transition-all duration-75 ease","leave-to-class":"translate-x-20 opacity-0"},{default:se(()=>[N(t("button",{class:"h-fit px-4 sm:px-2 py-2 flex justify-center items-center gap-1 bg-red-100 text-xs text-red-400 hover:text-red-500 active:text-white active:bg-red-500 border border-red-500 fixed top-4 right-4 z-[1000] rounded",onClick:b[3]||(b[3]=Se(R=>ee(!1),["stop","prevent"]))},[xo,C(x,{name:"ic:round-close",class:"w-4 h-4"})],512),[[D,e(j)]])]),_:1}),C(He,{"enter-from-class":"translate-y-28 opacity-0","enter-active-class":"transition-all duration-200 ease","enter-to-class":"translate-y-0 opacity-100","leave-from-class":"translate-y-0 opacity-100","leave-active-class":"transition-all duration-75 ease","leave-to-class":"translate-y-28 opacity-0"},{default:se(()=>[N(t("div",{class:"p-2 absolute bottom-20 sm:bottom-4 left-1/2 z-10 -translate-x-1/2 flex items-center gap-x-2 bg-gray-100 rounded-lg border border-gray-200 cursor-default",onClick:b[6]||(b[6]=Se(()=>{},["stop"]))},[N(t("button",{disabled:e(y)==="start",class:c(["btn",e(y)==="start"?e(o)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 border-purple-500 opacity-30":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 border-green-500 opacity-30":e(o)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 border-purple-500":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 border-green-500"]),onClick:b[4]||(b[4]=Se(R=>O("left"),["stop","prevent"]))},[C(x,{name:"material-symbols:arrow-left-rounded",class:"w-6 h-6"})],10,yo),[[D,e(T)]]),t("div",{ref_key:"zoomImageListContainer",ref:d,class:"zoom-image-list max-w-[80vw] p-2 flex items-center gap-x-2 overflow-x-auto overscroll-x-none",onScrollPassive:M},[(g(!0),k(fe,null,we(e(_),(R,ne)=>(g(),k("button",{key:ne,class:c(["shrink-0 w-16 h-16 sm:w-20 sm:h-20 ring sm:ring-4 focus:outline-none rounded overflow-hidden",e(i)&&e(i).src===R.src?e(o)==="blog"?"ring-purple-400":"ring-green-400":"ring-transparent"]),onClick:Se(Ie=>L(R),["stop","prevent"])},[t("img",{src:R.src,alt:R.alt,class:"mx-auto max-h-full"},null,8,wo)],10,_o))),128))],544),N(t("button",{disabled:e(y)==="end",class:c(["btn",e(y)==="end"?e(o)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 border-purple-500 opacity-30":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 border-green-500 opacity-30":e(o)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 border-purple-500":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 border-green-500"]),onClick:b[5]||(b[5]=Se(R=>O("right"),["stop","prevent"]))},[C(x,{name:"material-symbols:arrow-right-rounded",class:"w-6 h-6"})],10,ko),[[D,e(T)]])],512),[[D,e(j)&&e(_).length>1]])]),_:1})],2)),[[D,e(l)!=="hidden"]])}}});const $o=Pe(Co,[["__scopeId","data-v-439b6d47"]]),So={key:1,class:"container mx-auto"},Io={class:"json-content-container max-h-[calc(100vh*0.8)] m-6 p-4 border rounded-lg overflow-auto"},Ho={key:2,class:"container lg:max-w-4xl mx-auto px-6 md:px-12 py-4 grid grid-cols-1 sm:grid-cols-2 gap-4"},Po={class:"flex items-center gap-1"},Lo={class:"flex flex-col gap-2"},Ao=t("p",{class:"text-lg font-bold"}," Previous Article ",-1),To={key:0,class:"text-xs opacity-80"},Mo={class:"flex items-center gap-1"},jo={class:"flex flex-col gap-2"},zo=t("p",{class:"text-lg font-bold text-end"}," Next Article ",-1),No={key:0,class:"text-xs opacity-80 text-end"},Jo=be({__name:"[...slug]",async setup(B){var X,a,H,P,te;let o,l;const z=Le(),i=nt();dt({description:z.description.slug,ogDescription:z.description.slug,ogUrl:`${ut.homepage}${i.fullPath}`});const _=Ke(),{data:r,pending:h}=([o,l]=De(()=>Be(`${i.path}`,()=>Fe(i.path).findOne())),o=await o,l(),o),u=p(""),A=p(""),d=p(""),T=p(""),W=p([]);if((X=r.value)!=null&&X.series){const{data:S}=([o,l]=De(()=>Be(`${r.value.series}-series`,()=>Fe("article").where({series:r.value.series}).only(["title","description","_path","_type","seriesOrder"]).sort({seriesOrder:1,$numeric:!0}).find())),o=await o,l(),o);if(W.value=S.value,S.value&&S.value.length>1){const v=S.value.findIndex(E=>i.path===E._path);v!==-1&&(v===0?(T.value=S.value[v+1].title,d.value=S.value[v+1]._path):v===S.value.length-1?(A.value=S.value[v-1].title,u.value=S.value[v-1]._path):(T.value=S.value[v+1].title,d.value=S.value[v+1]._path,A.value=S.value[v-1].title,u.value=S.value[v-1]._path))}}(a=r.value)!=null&&a.prevArticleUrl&&(u.value=r.value.prevArticleUrl),(H=r.value)!=null&&H.prevArticleName&&(A.value=r.value.prevArticleName),(P=r.value)!=null&&P.nextArticleUrl&&(d.value=r.value.nextArticleUrl),(te=r.value)!=null&&te.nextArticleName&&(T.value=r.value.nextArticleName);const y=_e("showSeriesModal");ie(y,()=>{document!=null&&document.body&&(y.value?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"))});const M=p(null),O=p(null),L=(S,v,E)=>{S.forEach(q=>{q.addEventListener("dblclick",F=>{const U=F.currentTarget;U.style.borderColor="#c084fc";const V=U.querySelector("annotation");if(V&&V.textContent){const Q=v+V.textContent+E;O.value&&O.value.writeText(Q).then(()=>{U.style.borderColor="#4ade80";const ue=setTimeout(()=>{U.style.borderColor="transparent",clearTimeout(ue)},800)}).catch(()=>{U.style.borderColor="#f87171";const ue=setTimeout(()=>{U.style.borderColor="transparent",clearTimeout(ue)},800)})}else{U.style.borderColor="#f87171";const Q=setTimeout(()=>{U.style.borderColor="transparent",clearTimeout(Q)},800)}})})};(()=>{const S=_e("searchString"),v=p(i.query.searchparam?i.query.searchparam:""),E=v.value.toString();S.value=E.replace(/\u005F/gu," "),v.value})(),he(()=>{if(_.value="note",O.value=navigator.Clipboard,M.value&&O.value){const S=M.value.querySelectorAll(".math-inline"),v=M.value.querySelectorAll(".math-display");S.length>0&&L(S,"$","$"),v.length>0&&L(v,`$$
`,`
$$`)}});const n=Me();ie(n,()=>{document!=null&&document.body&&(n.value!=="hidden"&&document.body.classList.add("overflow-hidden"),n.value==="hidden"&&document.body.classList.remove("overflow-hidden"))});function $(){return!0}return Ne(()=>{_.value="note",$&&console.log("prevOrNext is "+$+" and window.location.toLocaleString is "+window.location.toLocaleString())}),(S,v)=>{var f,j,ee;const E=et,q=Qe,F=Vt,U=ke,V=je,Q=lt,ue=to,ve=mo,xe=$o;return g(),k("div",{id:"slug_page",ref_key:"articleContainer",ref:M},[C(q,null,{default:se(()=>[C(E,null,{default:se(()=>{var ge;return[ze(Z(((ge=e(r))==null?void 0:ge.title)||"Article"),1)]}),_:1})]),_:1}),C(Q,{name:"base","footer-catalog":((j=(f=e(r))==null?void 0:f.body)==null?void 0:j.toc)&&e(r).body.toc.links.length>0,"footer-flexi-mode":e(r)&&e(r).articleType==="note"},{default:se(()=>[!e(h)&&e(r)&&e(r)._type==="markdown"&&e(r).articleType==="note"?N((g(),oe(F,{key:0,data:e(r),class:"px-4 py-12"},null,8,["data"])),[[D,e(_)==="note"]]):!e(h)&&e(r)&&(e(r)._type==="json"||e(r)._type==="csv")?(g(),k("div",So,[t("div",Io,[t("pre",null,Z(e(r)),1)])])):Y("",!0),e(u)||e(d)?(g(),k("div",Ho,[e(u)?(g(),oe(V,{key:0,id:"prevArticleUrl",to:e(u),"aria-label":"prevArticleUrl",class:"px-4 py-6 flex justify-start items-center text-gray-600 hover:text-white hover:bg-green-500 border border-gray-400 hover:border-green-500 focus:outline-none rounded-lg transition-colors duration-300",onClick:$},{default:se(()=>[t("div",Po,[C(U,{name:"ic:round-keyboard-arrow-left",class:"shrink-0 w-8 h-8 opacity-70"}),t("div",Lo,[Ao,e(A)?(g(),k("p",To,Z(e(A)),1)):Y("",!0)])])]),_:1},8,["to"])):Y("",!0),e(d)?(g(),oe(V,{key:1,id:"nextArticleUrl",to:e(d),"aria-label":"nextArticleUrl",class:"px-4 py-6 flex justify-end items-center text-gray-600 hover:text-white hover:bg-green-500 border border-gray-400 hover:border-green-500 focus:outline-none rounded-lg transition-colors duration-300",onClick:$},{default:se(()=>[t("div",Mo,[t("div",jo,[zo,e(T)?(g(),k("p",No,Z(e(T)),1)):Y("",!0)]),C(U,{name:"ic:round-keyboard-arrow-right",class:"shrink-0 w-8 h-8 opacity-70"})])]),_:1},8,["to"])):Y("",!0)])):Y("",!0)]),_:1},8,["footer-catalog","footer-flexi-mode"]),C(ue),(g(),oe(We,{to:"body"},[(ee=e(r))!=null&&ee.series&&e(W).length>0&&e(y)?(g(),oe(ve,{key:0,"current-path":e(r)._path,"series-name":e(r).series,"series-list":e(W)},null,8,["current-path","series-name","series-list"])):Y("",!0)])),(g(),oe(We,{to:"body"},[C(xe)]))],512)}}});export{Jo as default};

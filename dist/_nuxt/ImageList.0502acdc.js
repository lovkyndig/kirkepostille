import{_ as N}from"./IconCustom.vue.c9badffd.js";import{u as U,f as V}from"./node.930063c0.js";import{d as P,h as G,i as J,k as K,j as O}from"./states.ec00dd6f.js";import{f as Q,r as p,x as X,k as Y,o as u,c as g,a,n as v,h as e,b as h,t as k,q as L,v as C,F as y,s as I,i as ee,m as te,w as z,T as A}from"./entry.e1201b13.js";import{_ as le}from"./_plugin-vue_export-helper.c27b6911.js";import"./iconify.b5131d16.js";import"./state.b43434ad.js";const re=()=>({unwrap:U,flatUnwrap:V}),se={class:"sm:mx-8 lg:mx-0 mt-4 mb-20 sm:mb-4 relative z-10 border border-gray-200 rounded-lg"},ae={class:"image-list-header p-2 relative z-10 flex justify-between items-center gap-2 bg-gray-100 rounded-t-lg shadow shadow-gray-200"},oe={class:"shrink-0 flex space-x-2 items-center"},ne={class:"text-center text-xs text-gray-400"},ie={class:"image-text-container grow text-center text-xs text-gray-400 overflow-x-auto"},ce={class:"shrink-0 flex space-x-2 items-center"},ue=["disabled"],ge=["disabled"],de=["disabled"],pe=["disabled"],ve=["src","alt"],he={class:"sidebar-image-list p-2 absolute left-0 inset-y-0 -z-10 hidden sm:flex flex-col space-y-2 bg-gray-100 rounded-lg border border-gray-200 overflow-y-auto overscroll-y-none"},me=["onClick"],be=["src","alt"],fe={class:"sidebar-image-list p-2 absolute inset-x-0 bottom-0 -z-10 flex sm:hidden space-x-2 bg-gray-100 rounded-lg border border-gray-200 overflow-x-auto"},xe=["onClick"],ye=["src","alt"],_e=Q({__name:"ImageList",props:{height:{type:String,default:"400px"}},setup(E){const B=E,{flatUnwrap:W}=re(),i=P(),t=p(null),o=p("start"),f=p(0),d=p(1),T=p(""),m=p(!1),c=p([]);X(()=>{if(t.value){const l=t.value.querySelectorAll("img");f.value=l.length,f.value>0&&(l.forEach(r=>{c.value.push({src:r.src,alt:r.alt})}),f.value>1&&(m.value=!0),Y(d,()=>{var r;c.value.length>0&&(T.value=(r=c.value[d.value-1])==null?void 0:r.alt)},{immediate:!0}))}});const Z=l=>{l.classList.add("-translate-x-full")},D=l=>{l.classList.add("translate-y-full")},_=l=>{t.value&&(l==="start"?t.value.scrollTop=0:l==="end"?t.value.scrollTop=t.value.scrollHeight-t.value.clientHeight:t.value.scrollTop=l*t.value.clientHeight)},w=l=>{t.value&&(l==="start"?t.value.scrollLeft=0:l==="end"?t.value.scrollLeft=t.value.scrollWidth-t.value.clientWidth:t.value.scrollLeft=l*t.value.clientWidth)};let H=0,$=0;const M=()=>{if(t.value){if(t.value.scrollTop!==H){const l=t.value.scrollTop;H=t.value.scrollTop,l===0?o.value="start":l+t.value.clientHeight>=t.value.scrollHeight?o.value="end":o.value="middle",d.value=Math.ceil(l/t.value.clientHeight)+1}else if(t.value.scrollLeft!==$){const l=t.value.scrollLeft;$=t.value.scrollLeft,l===0?o.value="start":l+t.value.clientWidth>=t.value.scrollWidth?o.value="end":o.value="middle",d.value=Math.round(l/t.value.clientWidth)+1}}},R=G(),S=J(),j=K(),q=O(),F=l=>{if(l.target){const r=l.target.getBoundingClientRect();S.value={src:l.target.src,width:r.width,height:r.height,x:r.x,y:r.y},q.value=S.value,f.value>0&&t.value.querySelectorAll("img").forEach(s=>{const n=s.getBoundingClientRect();j.value.push({src:s.src,alt:s.alt,width:n.width,height:n.height,x:n.x,y:n.y})}),R.value="show"}};return(l,r)=>{const b=N;return u(),g("div",se,[a("div",ae,[a("div",oe,[a("button",{class:v(["btn flex",e(m)?e(i)==="blog"?"text-white bg-purple-500 hover:bg-purple-400":"text-white bg-green-500 hover:bg-green-400":e(i)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500":"bg-green-100 text-green-400 hover:text-green-500"]),onClick:r[0]||(r[0]=s=>m.value=!e(m))},[h(b,{name:"bi:layout-sidebar",class:"w-4 h-4 -rotate-90 sm:rotate-0"})],2),a("span",ne,k(e(d))+"/"+k(e(f)),1)]),a("span",ie,k(e(T)),1),L(a("div",ce,[a("button",{disabled:e(o)==="start",class:v(["btn hidden sm:flex active:text-white",e(o)==="start"?e(i)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 opacity-30":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 opacity-30":e(i)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500"]),onClick:r[1]||(r[1]=s=>_("start"))},[h(b,{name:"material-symbols:vertical-align-top-rounded",class:"w-4 h-4"})],10,ue),a("button",{disabled:e(o)==="end",class:v(["btn hidden sm:flex active:text-white",e(o)==="end"?e(i)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 opacity-30":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 opacity-30":e(i)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500"]),onClick:r[2]||(r[2]=s=>_("end"))},[h(b,{name:"material-symbols:vertical-align-bottom-rounded",class:"w-4 h-4"})],10,ge),a("button",{disabled:e(o)==="start",class:v(["btn flex sm:hidden active:text-white",e(o)==="start"?e(i)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 opacity-30":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 opacity-30":e(i)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500"]),onClick:r[3]||(r[3]=s=>w("start"))},[h(b,{name:"material-symbols:vertical-align-bottom-rounded",class:"w-4 h-4 rotate-90"})],10,de),a("button",{disabled:e(o)==="end",class:v(["btn flex sm:hidden active:text-white",e(o)==="end"?e(i)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500 opacity-30":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500 opacity-30":e(i)==="blog"?"bg-purple-100 text-purple-400 hover:text-purple-500 active:bg-purple-500":"bg-green-100 text-green-400 hover:text-green-500 active:bg-green-500"]),onClick:r[4]||(r[4]=s=>w("end"))},[h(b,{name:"material-symbols:vertical-align-top-rounded",class:"w-4 h-4 rotate-90"})],10,pe)],512),[[C,e(c).length>1]])]),a("div",{ref_key:"imgContainer",ref:t,class:"image-list-container flex sm:flex-col bg-gray-50 rounded-b-lg overflow-auto snap-mandatory snap-both",style:te(`height: ${B.height}`),onScrollPassive:M},[(u(!0),g(y,null,I(e(W)(l.$slots.default(),["p"]),(s,n)=>{var x;return u(),g(y,null,[((x=s==null?void 0:s.type)==null?void 0:x.tag)==="img"?(u(),g("div",{key:n,class:"shrink-0 w-full h-full flex justify-center items-center"},[a("img",{src:s.props.src,alt:s.props.alt,onDblclick:F},null,40,ve)])):ee("",!0)],64)}),256))],36),h(A,{"enter-from-class":"translate-x-0","enter-active-class":"transition-transform duration-200 ease-in","enter-to-class":"-translate-x-full","leave-from-class":"-translate-x-full","leave-active-class":"transition-transform duration-75 ease-out","leave-to-class":"translate-x-0",onAfterEnter:Z},{default:z(()=>[L(a("div",he,[(u(!0),g(y,null,I(e(c),(s,n)=>(u(),g("button",{key:n,class:v(["shrink-0 w-12 h-12 ring rounded overflow-hidden",e(d)-1===n?e(i)==="blog"?"ring-purple-400":"ring-green-400":"ring-transparent"]),onClick:x=>_(n)},[a("img",{src:s.src,alt:s.alt,class:"mx-auto max-h-full"},null,8,be)],10,me))),128))],512),[[C,e(c).length>0&&e(m)]])]),_:1}),h(A,{"enter-from-class":"translate-y-0","enter-active-class":"transition-transform duration-200 ease-in","enter-to-class":"translate-y-full","leave-from-class":"translate-y-full","leave-active-class":"transition-transform duration-75 ease-out","leave-to-class":"translate-y-0",onAfterEnter:D},{default:z(()=>[L(a("div",fe,[(u(!0),g(y,null,I(e(c),(s,n)=>(u(),g("button",{key:n,class:v(["shrink-0 w-12 h-12 ring rounded overflow-hidden",e(d)-1===n?e(i)==="blog"?"ring-purple-400":"ring-green-400":"ring-transparent"]),onClick:x=>w(n)},[a("img",{src:s.src,alt:s.alt,class:"mx-auto max-h-full"},null,8,ye)],10,xe))),128))],512),[[C,e(c).length>0&&e(m)]])]),_:1})])}}});const $e=le(_e,[["__scopeId","data-v-0fa43321"]]);export{$e as default};
